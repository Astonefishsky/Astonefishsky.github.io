<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"astonefishsky.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","width":220,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="工程实践项目：基于Arduino板的智能物流小车 我的第一篇博客，就拿工程实践水一下了。"><meta property="og:type" content="article"><meta property="og:title" content="基于Arduino的智能物流小车"><meta property="og:url" content="https://astonefishsky.github.io/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/index.html"><meta property="og:site_name" content="史莱姆小屋"><meta property="og:description" content="工程实践项目：基于Arduino板的智能物流小车 我的第一篇博客，就拿工程实践水一下了。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://astonefishsky.github.io/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/img1.jpg"><meta property="article:published_time" content="2021-12-29T05:37:26.000Z"><meta property="article:modified_time" content="2023-07-05T01:57:17.801Z"><meta property="article:author" content="瓶装史莱姆酱"><meta property="article:tag" content="Arduino"><meta property="article:tag" content="物流小车"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://astonefishsky.github.io/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/img1.jpg"><link rel="canonical" href="https://astonefishsky.github.io/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://astonefishsky.github.io/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/","path":"SJTU/基于Arduino的智能物流小车/","title":"基于Arduino的智能物流小车"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>基于Arduino的智能物流小车 | 史莱姆小屋</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">史莱姆小屋</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">16</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">4</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">11</span></a></li><li class="menu-item menu-item-readnotes"><a href="/readnotes/" rel="section"><i class="fa fa-book fa-fw"></i>读书笔记</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%BA%E5%9C%B0%E7%A4%BA%E6%84%8F%E5%9B%BE"><span class="nav-number">1.</span> <span class="nav-text">场地示意图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A6%81%E6%B1%82"><span class="nav-number">2.</span> <span class="nav-text">要求</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Arduino%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.</span> <span class="nav-text">Arduino程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E8%AF%9D"><span class="nav-number">4.</span> <span class="nav-text">后话</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="瓶装史莱姆酱" src="/images/first.png"><p class="site-author-name" itemprop="name">瓶装史莱姆酱</p><div class="site-description" itemprop="description">一个个人博客网站，记录生活、学习</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Astonefishsky" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Astonefishsky" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:Q20220507@126.com" title="E-Mail → mailto:Q20220507@126.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://astonefishsky.github.io/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/first.png"><meta itemprop="name" content="瓶装史莱姆酱"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="史莱姆小屋"><meta itemprop="description" content="一个个人博客网站，记录生活、学习"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="基于Arduino的智能物流小车 | 史莱姆小屋"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> 基于Arduino的智能物流小车</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-12-29 13:37:26" itemprop="dateCreated datePublished" datetime="2021-12-29T13:37:26+08:00">2021-12-29</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-07-05 09:57:17" itemprop="dateModified" datetime="2023-07-05T09:57:17+08:00">2023-07-05</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/SJTU/" itemprop="url" rel="index"><span itemprop="name">SJTU</span></a></span></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>10k</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p><em>工程实践项目：基于Arduino板的智能物流小车</em></p><p>我的第一篇博客，就拿工程实践水一下了。</p><span id="more"></span><h2 id="场地示意图"><a href="#场地示意图" class="headerlink" title="场地示意图"></a>场地示意图</h2><p><img src="/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/img1.jpg"></p><h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><p>​ 从出发区到达原料区，依次搬运三个物块到加工区，最后回到返回区。</p><p>​ 虽然听着挺简单，但实际操作过程中遇到了太多的问题，比如由于安装不精确导致四个轮子不是那么完美，在写程序时直接让四个轮子速度相等并不能使小车走直线，而且四个轮子启动顺序也会对小车的方向产生微妙的影响。然后就是如何让小车平移，也需要精确调节四个轮子的速度。</p><p>​ 接下来吐槽几句。令人蛋疼的是，学校提供的锂电池并不是恒压电池，而且程序是通过控制电压的高低来控制电机速度的，这就导致，==写的程序各个参数只能对标很小一段范围的电压==，在调试过程中会经常出现电池电压越用越低，参数不停的调的情况，充电后发现原来的程序又用不了了。唉~（这是一段很长的叹气）此外，锂电池电压充满电时大概是12.3V，这个电压对我们所用的Arduino UNO板子来说有点过高，很容易导致板子烧坏。（这也是我们用了五六块板子的部分原因，哈哈哈）也就是说，充满电的电池还不能用，得悠着点充电（笑哭）。</p><h2 id="Arduino程序"><a href="#Arduino程序" class="headerlink" title="Arduino程序"></a>Arduino程序</h2><p>==注：这段程序只是我个人记录用，留个纪念罢了，不要拿来直接用，会gg的（虽然不太可能有人看到）。==</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Wire.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;MotorController4WD.h&quot;</span></span></span><br><span class="line"><span class="comment">//#include &quot;QGPMaker_IICSensorbar.h&quot;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;QGPMaker_MotorShield.h&quot;</span></span></span><br><span class="line"><span class="function">MotorController4WD <span class="title">motorController</span><span class="params">(<span class="number">1</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//const byte IIC_ADDRESS = 0x3F; </span></span><br><span class="line"><span class="comment">//SensorBar io;</span></span><br><span class="line"><span class="comment">//电机</span></span><br><span class="line">QGPMaker_MotorShield AFMS = <span class="built_in">QGPMaker_MotorShield</span>(); </span><br><span class="line">QGPMaker_DCMotor *myMotor1 = AFMS.<span class="built_in">getMotor</span>(<span class="number">1</span>);</span><br><span class="line">QGPMaker_DCMotor *myMotor2 = AFMS.<span class="built_in">getMotor</span>(<span class="number">2</span>);</span><br><span class="line">QGPMaker_DCMotor *myMotor3 = AFMS.<span class="built_in">getMotor</span>(<span class="number">3</span>);</span><br><span class="line">QGPMaker_DCMotor *myMotor4 = AFMS.<span class="built_in">getMotor</span>(<span class="number">4</span>);</span><br><span class="line"><span class="comment">//舵机</span></span><br><span class="line">QGPMaker_Servo *myServo0 = AFMS.<span class="built_in">getServo</span>(<span class="number">0</span>);</span><br><span class="line">QGPMaker_Servo *myServo2 = AFMS.<span class="built_in">getServo</span>(<span class="number">2</span>);</span><br><span class="line">QGPMaker_Servo *myServo4 = AFMS.<span class="built_in">getServo</span>(<span class="number">4</span>);</span><br><span class="line">QGPMaker_Servo *myServo6 = AFMS.<span class="built_in">getServo</span>(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//int sensor[5] = &#123;0, 0, 0, 0, 0&#125;;   //没用到巡线传感器</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> initial_motor_speed = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zhua</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fang</span><span class="params">()</span></span>; </span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">9600</span>); <span class="comment">//串口波特率115200（PC端使用）</span></span><br><span class="line">  </span><br><span class="line">  AFMS.<span class="built_in">begin</span>(); </span><br><span class="line">  motorController.<span class="built_in">begin</span>();</span><br><span class="line">  </span><br><span class="line"><span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">100</span>;i&gt;<span class="number">60</span>;i--)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">40</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-20</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">5300</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">//机械臂伸直</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, <span class="number">25</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">4</span>, <span class="number">88</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line"><span class="comment">//夹子张开</span></span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">110</span>;i&gt;<span class="number">60</span>;i--)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">40</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="comment">//第一个来回</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1160</span>);</span><br><span class="line">  <span class="comment">//抓</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">zhua</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2370</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">fang</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-6</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-6</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">4000</span>);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">20</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">400</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//第二个来回  </span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-9</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-9</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">810</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">zhua</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-8</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-8</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2370</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">fang</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">4000</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">20</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">400</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//第三个来回</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">zhua</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2370</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">fang</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//回到返回区</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-20</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">6000</span>);</span><br><span class="line">       </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2000</span>);</span><br><span class="line"><span class="comment">//停下</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);    </span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">zhua</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">20</span>;i&lt;<span class="number">40</span>;i+=<span class="number">2</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">40</span>,j=<span class="number">25</span>;i&lt;<span class="number">145</span>;i+=<span class="number">4</span>,j+=<span class="number">5</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, j);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//爪子夹紧</span></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">60</span>;i&lt;<span class="number">110</span>;i++)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    <span class="comment">//收回</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">145</span>,j=<span class="number">155</span>;i&gt;<span class="number">40</span>;i-=<span class="number">4</span>,j-=<span class="number">5</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, j);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">40</span>;i&gt;<span class="number">20</span>;i-=<span class="number">2</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fang</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">25</span>;i&lt;<span class="number">150</span>;i++)&#123;</span><br><span class="line">motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, i);</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">88</span>;i&gt;<span class="number">65</span>;i--)</span><br><span class="line">&#123;</span><br><span class="line">  motorController.<span class="built_in">writeServo</span>(<span class="number">4</span>, i);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">15</span>);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">300</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">20</span>;i&lt;<span class="number">145</span>;i++)&#123;</span><br><span class="line">motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, <span class="number">145</span>);</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line"><span class="comment">//松开爪子+</span></span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">110</span>;i&gt;<span class="number">60</span>;i--)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    <span class="comment">//收回</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">145</span>,j=<span class="number">145</span>;i&gt;<span class="number">40</span>;i-=<span class="number">4</span>,j-=<span class="number">5</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, j);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">40</span>;i&gt;<span class="number">20</span>;i-=<span class="number">2</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="后话"><a href="#后话" class="headerlink" title="后话"></a>后话</h2><p>这次工程实践比赛时也出现了板子烧坏的情况，端口消失，没能上传改过参数的代码，结果就直接寄了。虽然感觉有种这几天夜都白熬的感觉，不过，也学到了不少。（比如，<del>arduino板是非常脆弱的？</del>应该是我们操作不太行，以后就知道怎么呵护这块板子了hhh）</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Arduino/" rel="tag"><i class="fa fa-tag"></i> Arduino</a><a href="/tags/%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/" rel="tag"><i class="fa fa-tag"></i> 物流小车</a></div><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"> <a href="/SJTU/%E5%A4%A7%E5%AD%A6%E7%94%9F%E5%BF%83%E7%90%86%E5%81%A5%E5%BA%B7%E5%BC%80%E5%8D%B7%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/" rel="next" title="大学生心理健康开卷参考资料">大学生心理健康开卷参考资料<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments gitalk-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2023</span> <span>by</span> <span class="author" itemprop="copyrightHolder">瓶装史莱姆酱</span></div><div class="Thanks"> Thanks <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT</a></div></div></footer><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div> <a href="https://github.com/Astonefishsky" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous"><script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"Astonefishsky","repo":"issuesTank","client_id":"33ae4a4ac57ee7fbdb2f","client_secret":"103378b8e87ff0a073875fc35069460be83660fd","admin_user":"Astonefishsky","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"616184612eaa1460d9dcf490ebb2e50f"}</script><script src="/js/third-party/comments/gitalk.js"></script></body></html>